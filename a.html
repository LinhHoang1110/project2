<!DOCTYPE html>
<html>
<body>

<p>Count numbers: <output id="result"></output></p>
<input id="abcd" type="text">
<button id="abcde">Start Worker</button>
<button onclick="stopWorker()">Stop Worker</button>

<p><strong>Note:</strong> Internet Explorer 9 and earlier versions do not support Web Workers.</p>

<script>

    document.addEventListener('load', function () {
        document.getElementById('abcde').addEventListener('click', function () {
            var tmp3 = document.getElementById('abcd').value;
            alert(tmp3);
            startWorker(tmp3);
        })
    })

    var w;

    function startWorker(val) {
        if(typeof(Worker) !== "undefined") {
            if(typeof(w) == "undefined") {
                w = new Worker("./a.js");
                w.postMessage(val);
            }
            w.onmessage = function(event) {
                document.getElementById("result").innerHTML = event.data;
                if(event.data == 0) stopWorker();
            };
        } else {
            document.getElementById("result").innerHTML = "Sorry, your browser does not support Web Workers...";
        }
    }

    function stopWorker() {
        w.terminate();
        w = undefined;
    }
</script>

</body>
</html>